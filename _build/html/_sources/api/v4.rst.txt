API v4
======

HF Activity case
----------------

Insert
~~~~~~

.. http:post:: /api4/Reports/hf_activity_cases

    Insert new case

    **Parse as json**:

    .. sourcecode:: json

        {
            "HF_Activity_Cases": [
                {
                    "Month": "07",
                    "Year": "2021",
                    "DateCase": "2021-07-01",
                    "NameK": "Test Patient",
                    "PatientPhone": "010123456789",
                    "Code_Vill_t": "1406010100",
                    "Sex": "F",
                    "Age": 25,
                    "Weight": 99,
                    "Temperature": 40, 
                    "Diagnosistext": "Simple",
                    "Microscopy": false,
                    "RDT": true,
                    "Diagnosis": "N",
                    "NumberTests": 1,
                    "UUID": "799440634c87b27f",
                    "User_Code_Fa_T": "140612"
                },
                {
                    "Month": "07",
                    "Year": "2021",
                    "DateCase": "2021-07-01",
                    "NameK": "Test Patient",
                    "PatientPhone": "010123456789",
                    "Code_Vill_t": "1406010100",
                    "Sex": "M",
                    "Age": 25,
                    "Weight": 99,
                    "Temperature": 40,
                    "PregnantMTHS": "",
                    "Diagnosistext": "Simple",
                    "Microscopy": false,
                    "RDT": true,
                    "Diagnosis": "F",
                    "Treatment": "ASMQ អា+អឹម",
                    "Refered": true,
                    "ReferedReason": "ផ្សេង",
                    "ReferedOtherReason": "កកាកិកី",
                    "Dead": false,
                    "Relapse": 0,
                    "L1": 1,
                    "LC": 0,
                    "LC_Code": "1004050523",
                    "IMP": 0,
                    "IMP_Text": "មកពីស្រុកសៀម",
                    "G6PDHb": 15,
                    "G6PDdL": 15,
                    "IsACT": "Yes",
                    "IsConsult": "Yes",
                    "IsPrimaquine": "Yes",
                    "Primaquine15": 0,
                    "Primaquine75": 15,
                    "NumberTests": 1,
                    "UUID": "799440634c87b27f",
                    "User_Code_Fa_T": "140612"
                }
            ]
        }

    :>json string ReferedReason: Blank/Severe/Other. 
    :>json string ReferedOtherReason: Available when ReferedReason value is Other.

Update
~~~~~~
.. http:post:: /api4/Reports/update_hf_activity_case

    Update case

    **Parse as json**:

    .. sourcecode:: json

        {
            "HFCase": {
                "Rec_ID": 1101492,
                "Dead": false,
                "Diagnosistext": "Simple",
                "Microscopy": false,
                "RDT": true,
                "ServiceText": "",
                "Temperature": 39,
                "Weight": 56,
                "Age": 22,
                "Code_Vill_t": "1406010100",
                "DateCase": "2021-06-04",
                "Diagnosis": "V",
                "G6PDHb": "16",
                "G6PDdL": "16",
                "IMP_Text": "",
                "IsPrimaquine": "1",
                "LC_Code": "",
                "Month": "06",
                "NameK": "test1",
                "OtherTreatment": "",
                "PatientPhone": "1234567",
                "PregnantMTHS": "N",
                "Primaquine75": 46,
                "ReferedOtherReason": "",
                "ReferedReason": "",
                "Relapse": 1,
                "Sex": "M",
                "Treatment": "ASMQ",
                "UUID": "172eb328d808e45f",
                "User_Code_Fa_T": "140612",
                "Year": "2021"
            }
        }

Delete
~~~~~~

.. http:post:: /api4/Reports/delete_hf_activity_case

    Delete case

    :query int year: year of report, e.g: 2020,2021,...
    :query string month: month of report, e.g: 01, 02, ..., 12
    :query string hc_code: code of health facility 
    :query int rec_id: primary key of row 
